<style>
  /* Ширина sidebar по умолчанию */
  .offcanvas-start {
    width: 40% !important;
  }

  /* На телефонах пусть занимает всю ширину */
  @media (max-width: 1000px) {
    .offcanvas-start {
      width: 100% !important;
    }
  }
</style>

<div
  class="offcanvas offcanvas-start"
  tabindex="-1"
  id="sidebarRoutes"
  aria-labelledby="sidebarRoutesLabel"
>
  <div class="offcanvas-header border-bottom">
    <div>
      <h5 class="offcanvas-title mb-0" id="sidebarRoutesLabel">
        Маршруты и расписание
      </h5>
      <small class="text-muted"
        >Выберите маршрут, чтобы увидеть движение на карте</small
      >
    </div>
    <button
      type="button"
      class="btn-close text-reset"
      data-bs-dismiss="offcanvas"
      aria-label="Close"
    ></button>
  </div>

  <div class="offcanvas-body d-flex flex-column">
    <!-- Переключатели типов транспорта -->
    <ul class="nav nav-pills nav-fill mb-3" id="pills-tab" role="tablist">
      <li class="nav-item" role="presentation">
        <button
          class="nav-link active"
          id="pills-bus-tab"
          data-bs-toggle="pill"
          data-bs-target="#pills-bus"
          type="button"
          role="tab"
        >
          Автобусы
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button
          class="nav-link"
          id="pills-minibus-tab"
          data-bs-toggle="pill"
          data-bs-target="#pills-minibus"
          type="button"
          role="tab"
        >
          Маршрутки
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button
          class="nav-link"
          id="pills-tram-tab"
          data-bs-toggle="pill"
          data-bs-target="#pills-tram"
          type="button"
          role="tab"
        >
          Трамваи
        </button>
      </li>
    </ul>

    <!-- Фильтр по номеру/названию -->
    <div class="mb-3">
      <label class="form-label mb-1 small text-uppercase text-muted">
        Фильтр маршрутов
      </label>
      <input
        type="text"
        class="form-control form-control-sm"
        placeholder="Введите номер или название"
        id="routeFilterInput"
      />
    </div>

    <!-- Списки маршрутов -->
    <div class="tab-content flex-grow-1" id="pills-tabContent">
      <!-- Автобусы -->
      <div
        class="tab-pane fade show active h-100"
        id="pills-bus"
        role="tabpanel"
      >
        <div class="list-group route-list-scroll small" id="busRouteList">
          <!-- Пример одного элемента. Потом вы будете генерировать их из JS -->
          <button
            class="list-group-item list-group-item-action d-flex align-items-center route-item"
          >
            <span class="badge bg-primary me-2 route-badge">1A</span>
            <div class="flex-grow-1">
              <div class="fw-semibold">
                Pulkv. Brie&#382;a iela &ndash; Tonus Elast
              </div>
              <div class="text-muted small">
                Autobuss &bull; interv&#257;ls ~ 15 min
              </div>
            </div>
            <span class="ms-2 text-muted small">&rsaquo;</span>
          </button>

          <button
            class="list-group-item list-group-item-action d-flex align-items-center route-item"
          >
            <span class="badge bg-primary me-2 route-badge">3</span>
            <div class="flex-grow-1">
              <div class="fw-semibold">
                Slimn&#299;ca &ndash; Oskara Kalpaka vidusskola
              </div>
              <div class="text-muted small">Autobuss</div>
            </div>
            <span class="ms-2 text-muted small">&rsaquo;</span>
          </button>

          <!-- добавьте остальные маршруты здесь -->
        </div>
      </div>

      <!-- Микроавтобусы -->
      <div class="tab-pane fade h-100" id="pills-minibus" role="tabpanel">
        <div class="list-group route-list-scroll small" id="minibusRouteList">
          <!-- наполнение аналогично автобусам -->
          <div class="text-muted small text-center mt-3">
            Маршруты микроавтобусов будут отображены здесь
          </div>
        </div>
      </div>

      <!-- Трамваи -->
      <div class="tab-pane fade h-100" id="pills-tram" role="tabpanel">
        <div class="list-group route-list-scroll small" id="tramRouteList">
          <!-- наполнение аналогично -->
          <button
            class="list-group-item list-group-item-action d-flex align-items-center route-item"
          >
            <span class="badge bg-warning text-dark me-2 route-badge">1</span>
            <div class="flex-grow-1">
              <div class="fw-semibold">
                Br&#299;v&#299;bas iela &ndash; Mirdzas &#296;empes iela
              </div>
              <div class="text-muted small">Tramvajs</div>
            </div>
            <span class="ms-2 text-muted small">&rsaquo;</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Служебный блок снизу -->
    <div class="pt-3 mt-3 border-top small text-muted connection-info-block">
      <div>
        Статус: <span class="text-success fw-semibold">pievienots</span>
      </div>
      <div>Количество транспортов: <span id="vehicleCount">48</span></div>
    </div>
  </div>
</div>

{% include "schedule.html" %}
